# Installation Methods for Jira Dashboard

## Introduction

This documentation provides an overview of the available installation methods for deploying the Jira Dashboard application on AWS. It includes step-by-step guides for deploying using Node.js, Docker, and setting up HTTPS with Nginx. Each method is tailored to different environments and use cases, ensuring flexibility and scalability.

## Node.js Deployment on AWS EC2

### Prerequisites

Before deploying the application on an AWS EC2 instance, ensure the following prerequisites are installed:

- **Node.js** (v18+)
- **npm** (v9+)
- **Git**

### Deployment Steps

1. **Clone the Repository**

   ```bash
cd /home/ssm-user/projetos
git clone https://github.com/seu-usuario/jira-dash.git
cd jira-dash
   ```

2. **Install Dependencies**

   ```bash
npm install
npm list @tanstack/react-query
npm list vite-plugin-pwa
   ```

3. **Build for Production**

   ```bash
npm run build
ls -la dist/
   ```

4. **Serve the Application**

   - **Simple Server**

     ```bash
npm install -g serve
serve -s dist -l 3000
     ```

   - **PM2 (Recommended for Production)**

     ```bash
npm install -g pm2
cat > pm2.config.js << 'EOFPM2'
module.exports = {
apps: [
{
name: 'jira-dashboard',
script: 'serve',
args: '-s dist -l 3000',
instances: 'max',
exec_mode: 'cluster',
env: {
NODE_ENV: 'production',
},
error_file: './logs/err.log',
out_file: './logs/out.log',
log_date_format: 'YYYY-MM-DD HH:mm:ss Z',
merge_logs: true,
},
],
};
EOFPM2
pm2 start pm2.config.js
     ```

## Docker Deployment on AWS EC2

### Quick Installation

1. **SSH into the Instance**

   ```bash
ssh -i seu-key.pem ec2-user@3.83.28.223
   ```

2. **Install Docker**

   ```bash
sudo apt-get update
sudo apt-get install -y docker.io docker-compose
sudo usermod -aG docker $USER
exit
ssh -i seu-key.pem ec2-user@3.83.28.223
   ```

3. **Verify Installation**

   ```bash
docker --version
docker-compose --version
   ```

### Deploy with Docker Compose

1. **Navigate to Project Directory**

   ```bash
cd /home/ssm-user/projetos/jira-dash
   ```

2. **Update Code and Deploy**

   ```bash
git pull origin master
chmod +x deploy-docker.sh
./deploy-docker.sh
   ```

3. **Check Status and Logs**

   ```bash
docker-compose ps
docker-compose logs -f
   ```

## Configuring HTTPS with Nginx

### Nginx Configuration

1. **Create Nginx Configuration**

   ```bash
cat > /etc/nginx/sites-available/jira-dashboard << 'EOFNGINX'
server {
listen 80;
server_name _;
return 301 https://$host$request_uri;
}

server {
listen 443 ssl http2;
server_name _;
ssl_certificate /etc/ssl/certs/jira-dashboard.crt;
ssl_certificate_key /etc/ssl/private/jira-dashboard.key;
ssl_protocols TLSv1.2 TLSv1.3;
ssl_ciphers HIGH:!aNULL:!MD5;
ssl_prefer_server_ciphers on;
add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;
add_header X-Content-Type-Options "nosniff" always;
add_header X-Frame-Options "SAMEORIGIN" always;
location / {
proxy_pass http://localhost:3000;
proxy_http_version 1.1;
proxy_set_header Upgrade $http_upgrade;
proxy_set_header Connection 'upgrade';
proxy_set_header Host $host;
proxy_cache_bypass $http_upgrade;
}
}
EOFNGINX
   ```

2. **Activate Nginx Configuration**

   ```bash
rm /etc/nginx/sites-enabled/default
ln -s /etc/nginx/sites-available/jira-dashboard /etc/nginx/sites-enabled/
nginx -t
systemctl start nginx
systemctl enable nginx
systemctl restart nginx
   ```

## Summary

This documentation provides a comprehensive overview of the installation methods for the Jira Dashboard application on AWS. Users can choose between deploying with Node.js or Docker, and configure HTTPS with Nginx for secure access. Each method offers unique benefits and is suited to different deployment needs, ensuring that the application can be efficiently managed and scaled.
