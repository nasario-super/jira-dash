import{j as e,C as n,a as i,b as d,c as m,L as o,B as x,k as v,m as C,l as h,X as I,I as k,n as A,i as z,h as S}from"./index-55f72780.js";import{r as B}from"./vendor-863865b6.js";import{E}from"./external-link-63488bbc.js";import"./utils-f0959f0c.js";import"./charts-aa2a58ae.js";const $=({insights:p,loading:N=!1,onDismiss:t,onViewDetails:u})=>{const[r,j]=B.useState(new Set),b=s=>{switch(s){case"success":return e.jsx(S,{className:"w-5 h-5 text-green-500"});case"warning":return e.jsx(z,{className:"w-5 h-5 text-yellow-500"});case"critical":return e.jsx(A,{className:"w-5 h-5 text-red-500"});case"info":default:return e.jsx(k,{className:"w-5 h-5 text-blue-500"})}},f=s=>{switch(s){case"success":return"border-green-200 bg-green-50";case"warning":return"border-yellow-200 bg-yellow-50";case"critical":return"border-red-200 bg-red-50";case"info":default:return"border-blue-200 bg-blue-50"}},w=s=>{switch(s){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},y=s=>{j(a=>new Set([...a,s])),t==null||t(s)},l=p.filter(s=>!r.has(s.id));return N?e.jsxs(n,{children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded animate-pulse"}),"Insights AutomÃ¡ticos"]})}),e.jsx(m,{children:e.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((s,a)=>e.jsx("div",{className:"p-4 border border-border rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-full"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-2/3"})]})]})},a))})})]}):l.length===0?e.jsxs(n,{children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(o,{className:"w-5 h-5"}),"Insights AutomÃ¡ticos"]})}),e.jsx(m,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(o,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Nenhum insight disponÃ­vel no momento"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Os insights sÃ£o gerados automaticamente com base nos dados"})]})})]}):e.jsxs(n,{children:[e.jsx(i,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(o,{className:"w-5 h-5"}),"Insights AutomÃ¡ticos",e.jsx(x,{variant:"secondary",className:"ml-auto",children:l.length})]})}),e.jsxs(m,{children:[e.jsx("div",{className:"space-y-4",children:e.jsx(v,{children:l.map((s,a)=>e.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2,delay:a*.1},className:`p-4 border rounded-lg ${f(s.type)}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[b(s.type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:s.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{variant:"outline",className:`text-xs ${w(s.impact)}`,children:s.impact}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>y(s.id),className:"h-6 w-6 p-0",children:e.jsx(I,{className:"w-3 h-3"})})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s.description}),e.jsxs("div",{className:"bg-background/50 p-3 rounded border",children:[e.jsx("p",{className:"text-xs font-medium text-foreground mb-1",children:"ðŸ’¡ RecomendaÃ§Ã£o:"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.recommendation})]}),s.metrics&&Object.keys(s.metrics).length>0&&e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:Object.entries(s.metrics||{}).map(([g,c])=>e.jsxs(x,{variant:"outline",className:"text-xs",children:[g,":"," ",typeof c=="number"?c.toFixed(1):c]},g))}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.timestamp).toLocaleString("pt-BR")}),u&&e.jsxs(h,{variant:"ghost",size:"sm",onClick:()=>u(s),className:"text-xs h-6 px-2",children:[e.jsx(E,{className:"w-3 h-3 mr-1"}),"Ver Detalhes"]})]})]})]})},s.id))})}),r.size>0&&e.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:e.jsxs(h,{variant:"outline",size:"sm",onClick:()=>j(new Set),className:"text-xs",children:["Restaurar Insights Dispensados (",r.size,")"]})})]})]})};export{$ as default};
//# sourceMappingURL=InsightsPanel-c3f73002.js.map
