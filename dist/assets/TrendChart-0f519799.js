import{j as e,C as i,a as l,b as c,c as d,B as v,M as m,T as C,d as y}from"./index-55f72780.js";import{r as T}from"./vendor-863865b6.js";import{R as b,A as w,C as M,X as k,Y as A,T as B,g as P}from"./charts-aa2a58ae.js";import"./utils-f0959f0c.js";const O=({data:s,title:a,metric:h,loading:u=!1})=>{const j=T.useMemo(()=>s.map(t=>({...t,formattedValue:t.value.toLocaleString("pt-BR"),formattedChange:`${t.changePercent>=0?"+":""}${t.changePercent.toFixed(1)}%`})),[s]),r=s[s.length-1],g=s[s.length-2],f=()=>!r||!g?e.jsx(m,{className:"w-4 h-4 text-gray-500"}):r.changePercent>5?e.jsx(C,{className:"w-4 h-4 text-green-500"}):r.changePercent<-5?e.jsx(y,{className:"w-4 h-4 text-red-500"}):e.jsx(m,{className:"w-4 h-4 text-gray-500"}),o=()=>r?r.changePercent>5?"text-green-500":r.changePercent<-5?"text-red-500":"text-gray-500":"text-gray-500",p=({active:t,payload:n,label:N})=>{if(t&&n&&n.length){const x=n[0].payload;return e.jsxs("div",{className:"bg-background border border-border rounded-lg p-3 shadow-lg",children:[e.jsx("p",{className:"font-medium",children:N}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[h,": ",e.jsx("span",{className:"font-medium",children:x.formattedValue})]}),e.jsxs("p",{className:"text-sm",children:["Variação:"," ",e.jsx("span",{className:o(),children:x.formattedChange})]})]})}return null};return u?e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded animate-pulse"}),a]})}),e.jsx(d,{children:e.jsx("div",{className:"h-64 bg-gray-100 rounded animate-pulse"})})]}):!s||s.length===0?e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(c,{children:a})}),e.jsx(d,{children:e.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"Nenhum dado disponível"})})]}):e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(c,{className:"flex items-center gap-2",children:[f(),a]}),r&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{variant:"outline",className:o(),children:r.formattedChange}),e.jsx("span",{className:"text-sm text-muted-foreground",children:r.formattedValue})]})]})}),e.jsxs(d,{children:[e.jsx("div",{className:"h-64",children:e.jsx(b,{width:"100%",height:"100%",children:e.jsxs(w,{data:j,margin:{top:10,right:30,left:0,bottom:0},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]})}),e.jsx(M,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(k,{dataKey:"period",tick:{fontSize:12},angle:-45,textAnchor:"end",height:60}),e.jsx(A,{tick:{fontSize:12}}),e.jsx(B,{content:e.jsx(p,{})}),e.jsx(P,{type:"monotone",dataKey:"value",stroke:"#3B82F6",fillOpacity:1,fill:"url(#colorValue)",strokeWidth:2})]})})}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Média"}),e.jsx("p",{className:"text-sm font-medium",children:(s.reduce((t,n)=>t+n.value,0)/s.length).toFixed(1)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Máximo"}),e.jsx("p",{className:"text-sm font-medium",children:Math.max(...s.map(t=>t.value))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Mínimo"}),e.jsx("p",{className:"text-sm font-medium",children:Math.min(...s.map(t=>t.value))})]})]})]})]})};export{O as default};
//# sourceMappingURL=TrendChart-0f519799.js.map
